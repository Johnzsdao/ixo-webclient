---
id: lskev6m6
title: lib-protocol-entity
file_version: 1.1.3
app_version: 1.15.0
---

StargateSigning function for updating entity status, startDate, endDate, credentials
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/entity.ts
<!-- collapsed -->

```typescript
175    export const UpdateEntity = async (
176      client: SigningStargateClient,
177      signer: TSigner,
178      payload: Partial<MsgUpdateEntity>,
179    ) => {
180      const queryClient = await createQueryClient(RPC_ENDPOINT!)
181      const entity = await queryClient.ixo.entity.v1beta1.entity({
182        id: payload?.id || signer.address,
183      })
184      if (!entity.entity) {
185        throw new Error('Entity not found')
186      }
187    
188      const message = {
189        typeUrl: '/ixo.entity.v1beta1.MsgUpdateEntity',
190        value: ixo.entity.v1beta1.MsgUpdateEntity.fromPartial({
191          id: payload?.id || signer.did,
192          entityStatus: payload?.entityStatus || entity.entity.status,
193          startDate: payload?.startDate || entity.entity.startDate,
194          endDate: payload?.endDate || entity.entity.endDate,
195          credentials: payload?.credentials || entity.entity.credentials,
196          controllerDid: signer.did,
197          controllerAddress: signer.address,
198        }),
199      }
200    
201      console.log('UpdateEntity', { message })
202      const response: DeliverTxResponse = await client.signAndBroadcast(signer.address, [message], fee)
203      console.log('UpdateEntity', { response })
204      return response
205    }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBaXhvLXdlYmNsaWVudCUzQSUzQWl4b2ZvdW5kYXRpb24=/docs/lskev6m6).
