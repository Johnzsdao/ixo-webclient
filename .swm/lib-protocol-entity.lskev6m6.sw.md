---
id: lskev6m6
title: lib-protocol-entity
file_version: 1.1.3
app_version: 1.15.0
---

StargateSigning function for updating entity status, startDate, endDate, credentials
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/entity.ts
<!-- collapsed -->

```typescript
177    export const UpdateEntity = async (
178      client: SigningStargateClient,
179      signer: TSigner,
180      payload: Partial<MsgUpdateEntity>,
181    ) => {
182      const queryClient = await createQueryClient(RPC_ENDPOINT!)
183      const entity = await queryClient.ixo.entity.v1beta1.entity({
184        id: payload?.id || signer.address,
185      })
186      if (!entity.entity) {
187        throw new Error('Entity not found')
188      }
189    
190      const message = {
191        typeUrl: '/ixo.entity.v1beta1.MsgUpdateEntity',
192        value: ixo.entity.v1beta1.MsgUpdateEntity.fromPartial({
193          id: payload?.id || signer.did,
194          entityStatus: payload?.entityStatus === undefined ? entity.entity.status : payload?.entityStatus,
195          startDate: payload?.startDate || entity.entity.startDate,
196          endDate: payload?.endDate || entity.entity.endDate,
197          credentials: payload?.credentials || entity.entity.credentials,
198          controllerDid: signer.did,
199          controllerAddress: signer.address,
200        }),
201      }
202    
203      console.log('UpdateEntity', { message })
204      const response: DeliverTxResponse = await client.signAndBroadcast(signer.address, [message], fee)
205      console.log('UpdateEntity', { response })
206      return response
207    }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBaXhvLXdlYmNsaWVudCUzQSUzQWl4b2ZvdW5kYXRpb24=/docs/lskev6m6).
