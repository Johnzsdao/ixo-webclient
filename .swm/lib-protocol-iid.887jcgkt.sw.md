---
id: 887jcgkt
title: lib-protocol-iid
file_version: 1.1.3
app_version: 1.14.0
---

**AddLinkedEntity**

<br/>

Function used to add a linked entity to a blockchain using provided signingClient and signer.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/iid.ts
<!-- collapsed -->

```typescript
83     export const AddLinkedEntity = async (
84       client: SigningStargateClient,
85       signer: TSigner,
86       payload: {
87         did: string
88         linkedEntity: LinkedEntity
89       },
90     ) => {
91       const { did, linkedEntity } = payload
92       const message = {
93         typeUrl: '/ixo.iid.v1beta1.MsgAddLinkedEntity',
94         value: ixo.iid.v1beta1.MsgAddLinkedEntity.fromPartial({
95           id: did,
96           linkedEntity: ixo.iid.v1beta1.LinkedEntity.fromPartial(linkedEntity),
97           signer: signer.address,
98         }),
99       }
100      const response: DeliverTxResponse = await client.signAndBroadcast(signer.address, [message], fee)
101      console.info('AddLinkedEntity', response)
102      return response
103    }
```

<br/>

**AddVerificationMethod**

<br/>

Function used to add a verification method to a blockchain using provided signingClient and signer.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/iid.ts
<!-- collapsed -->

```typescript
105    export const AddVerificationMethod = async (
106      client: SigningStargateClient,
107      signer: TSigner,
108      payload: { did: string; relationships: string[]; method: VerificationMethod },
109    ) => {
110      const { did, relationships, method } = payload
111    
112      const message = {
113        typeUrl: '/ixo.iid.v1beta1.MsgAddVerification',
114        value: ixo.iid.v1beta1.MsgAddVerification.fromPartial({
115          id: did,
116          verification: ixo.iid.v1beta1.Verification.fromPartial({
117            relationships: relationships,
118            method: method,
119          }),
120          signer: signer.address,
121        }),
122      }
123    
124      const response: DeliverTxResponse = await client.signAndBroadcast(signer.address, [message], fee)
125      console.log('AddVerificationMethod', 'response', response)
126      return response
127    }
```

<br/>

**CreateIidDocForGroup**

<br/>

Function used to create a iid document for dao group address using provided signingClient, signer and did.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/iid.ts
<!-- collapsed -->

```typescript
59     export const CreateIidDocForGroup = async (client: SigningStargateClient, signer: TSigner, did: string) => {
60       const address = did.replace('did:ixo:wasm:', '')
61     
62       const message = {
63         typeUrl: '/ixo.iid.v1beta1.MsgCreateIidDocument',
64         value: ixo.iid.v1beta1.MsgCreateIidDocument.fromPartial({
65           context: customMessages.iid.createAgentIidContext(),
66           id: did,
67           alsoKnownAs: 'group',
68           verifications: [
69             ixo.iid.v1beta1.Verification.fromPartial({
70               relationships: ['authentication'],
71               method: ixo.iid.v1beta1.VerificationMethod.fromPartial({
72                 id: did,
73                 type: 'CosmosAccountAddress',
74                 blockchainAccountID: address,
75                 controller: '{id}',
76               }),
77             }),
78             ixo.iid.v1beta1.Verification.fromPartial({
79               relationships: ['authentication'],
80               method: ixo.iid.v1beta1.VerificationMethod.fromPartial({
81                 id: did + '#' + address,
82                 type: 'CosmosAccountAddress',
83                 blockchainAccountID: address,
84                 controller: '{id}',
85               }),
86             }),
87           ],
88           signer: signer.address,
89           controllers: [did],
90         }),
91       }
92     
93       console.log('CreateIidDocForGroup', { message })
94       const response = await client.signAndBroadcast(signer.address, [message], fee)
95       console.log('CreateIidDocForGroup', { response })
96       return response
97     }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBaXhvLXdlYmNsaWVudCUzQSUzQWl4b2ZvdW5kYXRpb24=/docs/887jcgkt).
