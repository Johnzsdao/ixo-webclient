---
id: 887jcgkt
title: lib-protocol-iid
file_version: 1.1.3
app_version: 1.14.0
---

**AddLinkedEntity**

<br/>

Function used to add a linked entity to a blockchain using provided signingClient and signer.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/iid.ts
<!-- collapsed -->

```typescript
114    export const AddLinkedEntity = async (
115      client: SigningStargateClient,
116      signer: TSigner,
117      payload: {
118        did: string
119        linkedEntity: LinkedEntity
120      },
121    ) => {
122      const { did, linkedEntity } = payload
123      const message = {
124        typeUrl: '/ixo.iid.v1beta1.MsgAddLinkedEntity',
125        value: ixo.iid.v1beta1.MsgAddLinkedEntity.fromPartial({
126          id: did,
127          linkedEntity: ixo.iid.v1beta1.LinkedEntity.fromPartial(linkedEntity),
128          signer: signer.address,
129        }),
130      }
131      await sleepByLimiter()
132      const response: DeliverTxResponse = await client.signAndBroadcast(signer.address, [message], fee)
133      console.info('AddLinkedEntity', response)
134      return response
135    }
```

<br/>

**AddVerificationMethod**

<br/>

Function used to add a verification method to a blockchain using provided signingClient and signer.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/iid.ts
<!-- collapsed -->

```typescript
389    export const AddVerificationMethod = async (
390      client: SigningStargateClient,
391      signer: TSigner,
392      payload: { did: string; verifications: Verification[] },
393    ) => {
394      const { did, verifications } = payload
395    
396      const messages = verifications.map((verification) => ({
397        typeUrl: '/ixo.iid.v1beta1.MsgAddVerification',
398        value: ixo.iid.v1beta1.MsgAddVerification.fromPartial({
399          id: did,
400          verification,
401          signer: signer.address,
402        }),
403      }))
404    
405      console.log('AddVerificationMethod', { messages })
406      await sleepByLimiter()
407      const response: DeliverTxResponse = await client.signAndBroadcast(signer.address, messages, fee)
408      console.log('AddVerificationMethod', { response })
409      return response
410    }
```

<br/>

**CreateIidDocForGroup**

<br/>

Function used to create a iid document for dao group address using provided signingClient, signer and did.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/lib/protocol/iid.ts
<!-- collapsed -->

```typescript
58     export const CreateIidDocForGroup = async (client: SigningStargateClient, signer: TSigner, did: string) => {
59       const address = did.replace('did:ixo:wasm:', '')
60     
61       const message = {
62         typeUrl: '/ixo.iid.v1beta1.MsgCreateIidDocument',
63         value: ixo.iid.v1beta1.MsgCreateIidDocument.fromPartial({
64           context: customMessages.iid.createAgentIidContext(),
65           id: did,
66           alsoKnownAs: 'group',
67           verifications: [
68             ixo.iid.v1beta1.Verification.fromPartial({
69               relationships: ['authentication'],
70               method: ixo.iid.v1beta1.VerificationMethod.fromPartial({
71                 id: did,
72                 type: 'CosmosAccountAddress',
73                 blockchainAccountID: address,
74                 controller: '{id}',
75               }),
76             }),
77             ixo.iid.v1beta1.Verification.fromPartial({
78               relationships: ['authentication'],
79               method: ixo.iid.v1beta1.VerificationMethod.fromPartial({
80                 id: did + '#' + address,
81                 type: 'CosmosAccountAddress',
82                 blockchainAccountID: address,
83                 controller: '{id}',
84               }),
85             }),
86           ],
87           signer: signer.address,
88           controllers: [did],
89         }),
90       }
91     
92       console.log('CreateIidDocForGroup', { message })
93       await sleepByLimiter()
94       const response = await client.signAndBroadcast(signer.address, [message], fee)
95       console.log('CreateIidDocForGroup', { response })
96       return response
97     }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBaXhvLXdlYmNsaWVudCUzQSUzQWl4b2ZvdW5kYXRpb24=/docs/887jcgkt).
